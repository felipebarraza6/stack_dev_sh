# SmartHydro Microservices - Variables de Entorno
# Copia este archivo como .env y configura tus valores

# =============================================================================
# BASE DE DATOS
# =============================================================================
POSTGRES_PASSWORD=your_secure_postgres_password_here
MONGO_PASSWORD=your_secure_mongo_password_here
REDIS_PASSWORD=your_secure_redis_password_here

# =============================================================================
# KAFKA CONFIGURACIÓN
# =============================================================================
KAFKA_TOPIC_MEASUREMENTS=measurements
KAFKA_TOPIC_NOTIFICATIONS=notifications
KAFKA_TOPIC_DGA_COMPLIANCE=dga_compliance
KAFKA_TOPIC_ANALYTICS=analytics

# =============================================================================
# API KEYS - PROVEEDORES DE TELEMETRÍA
# =============================================================================
# Twin Data - https://www.twindata.com/
TWIN_API_KEY=your_twin_api_key_here

# Nettra (The Things Network) - https://www.thethingsnetwork.org/
NETTRA_API_KEY=your_nettra_api_key_here

# Novus (Tago.io) - https://tago.io/
NOVUS_API_KEY=your_novus_api_key_here

# =============================================================================
# MONITORING
# =============================================================================
GRAFANA_PASSWORD=your_secure_grafana_password_here

# =============================================================================
# JWT CONFIGURACIÓN
# =============================================================================
JWT_SECRET_KEY=your_super_secret_jwt_key_here_make_it_long_and_random
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# EXTERNAL APIS
# =============================================================================
# DGA - Dirección General de Aguas
DGA_API_URL=https://api.dga.cl
DGA_API_KEY=your_dga_api_key_here

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
ENVIRONMENT=development

# =============================================================================
# PERFORMANCE
# =============================================================================
# Número de workers por servicio
TELEMETRY_WORKERS=4
DATA_PROCESSOR_WORKERS=4
BUSINESS_API_WORKERS=4
ANALYTICS_WORKERS=2

# Timeouts en segundos
REQUEST_TIMEOUT=30
DATABASE_TIMEOUT=10
REDIS_TIMEOUT=5
KAFKA_TIMEOUT=10

# =============================================================================
# SECURITY
# =============================================================================
# CORS - Dominios permitidos
ALLOWED_HOSTS=localhost,127.0.0.1,api.smarthydro.com,telemetry.smarthydro.com

# Rate limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000

# =============================================================================
# EMAIL CONFIGURACIÓN (Para notificaciones)
# =============================================================================
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your_email@gmail.com
EMAIL_HOST_PASSWORD=your_email_password_here

# =============================================================================
# BACKUP CONFIGURACIÓN
# =============================================================================
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *  # Diario a las 2 AM

# =============================================================================
# ALERTAS
# =============================================================================
# Slack Webhook para alertas
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Email para alertas críticas
ALERT_EMAIL=alerts@smarthydro.com

# =============================================================================
# DESARROLLO LOCAL
# =============================================================================
# Solo para desarrollo - NO usar en producción
DEBUG=True
DJANGO_SECRET_KEY=your_django_secret_key_for_development_only

# =============================================================================
# KUBERNETES (Para producción)
# =============================================================================
# Namespace de Kubernetes
K8S_NAMESPACE=smarthydro

# Configuración de recursos
K8S_TELEMETRY_CPU_LIMIT=2
K8S_TELEMETRY_MEMORY_LIMIT=4Gi
K8S_BUSINESS_CPU_LIMIT=1
K8S_BUSINESS_MEMORY_LIMIT=2Gi

# =============================================================================
# MONITORING AVANZADO
# =============================================================================
# Prometheus
PROMETHEUS_RETENTION_TIME=200h
PROMETHEUS_SCRAPE_INTERVAL=15s

# Grafana
GRAFANA_INSTALL_PLUGINS=grafana-clock-panel,grafana-simple-json-datasource

# =============================================================================
# NOTAS IMPORTANTES
# =============================================================================
# 1. Cambia TODAS las contraseñas por defecto
# 2. Usa contraseñas fuertes (mínimo 16 caracteres)
# 3. No compartas este archivo en repositorios públicos
# 4. En producción, usa un gestor de secretos (HashiCorp Vault, AWS Secrets Manager, etc.)
# 5. Rota las API keys regularmente
# 6. Monitorea el uso de recursos
# 7. Configura alertas para problemas críticos 